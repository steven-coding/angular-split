{"version":3,"file":"splitGutter.directive.js","sourceRoot":"","sources":["splitGutter.directive.ts"],"names":[],"mappings":"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","sourcesContent":["import { Directive, Input, ElementRef, Renderer2 } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: 'split-gutter'\r\n})\r\nexport class SplitGutterDirective {\r\n\r\n    @Input() set order(v: number) {\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'order', v);\r\n    }\r\n    \r\n    ////\r\n\r\n    private _direction: 'vertical' | 'horizontal';\r\n    \r\n    @Input() set direction(v: 'vertical' | 'horizontal') {\r\n        this._direction = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get direction(): 'vertical' | 'horizontal' {\r\n        return this._direction;\r\n    }\r\n    \r\n    ////\r\n\r\n    @Input() set useTransition(v: boolean) {\r\n        if(v) {\r\n            this.renderer.setStyle(this.elRef.nativeElement, 'transition', `flex-basis 0.3s`);\r\n        }\r\n        else {\r\n            this.renderer.removeStyle(this.elRef.nativeElement, 'transition');\r\n        }\r\n    }\r\n    \r\n    ////\r\n\r\n    private _size: number;\r\n    \r\n    @Input() set size(v: number) {\r\n        this._size = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get size(): number {\r\n        return this._size;\r\n    }\r\n    \r\n    ////\r\n\r\n    private _color: string;\r\n\r\n    @Input() set color(v: string) {\r\n        this._color = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get color(): string {\r\n        return this._color;\r\n    }\r\n    \r\n    ////\r\n\r\n    private _imageH: string;\r\n\r\n    @Input() set imageH(v: string) {\r\n        this._imageH = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get imageH(): string {\r\n        return this._imageH;\r\n    }\r\n    \r\n    ////\r\n\r\n    private _imageV: string;\r\n\r\n    @Input() set imageV(v: string) {\r\n        this._imageV = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get imageV(): string {\r\n        return this._imageV;\r\n    }\r\n    \r\n    ////\r\n\r\n    private _disabled: boolean = false;\r\n\r\n    @Input() set disabled(v: boolean) {\r\n        this._disabled = v;\r\n        this.refreshStyle();\r\n    }\r\n    \r\n    get disabled(): boolean {\r\n        return this._disabled;\r\n    }\r\n    \r\n    ////\r\n\r\n    constructor(private elRef: ElementRef,\r\n                private renderer: Renderer2) {}\r\n\r\n    private refreshStyle(): void {\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'flex-basis', `${ this.size }px`);\r\n        \r\n        // fix safari bug about gutter height when direction is horizontal\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'height', (this.direction === 'vertical') ? `${ this.size }px` : `100%`);\r\n\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'background-color', (this.color !== '') ? this.color : `#eeeeee`);\r\n\r\n        const state: 'disabled' | 'vertical' | 'horizontal' = (this.disabled === true) ? 'disabled' : this.direction;\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'background-image', this.getImage(state));\r\n        this.renderer.setStyle(this.elRef.nativeElement, 'cursor', this.getCursor(state));\r\n    }\r\n    \r\n    private getCursor(state: 'disabled' | 'vertical' | 'horizontal'): string {\r\n        switch(state) {\r\n            case 'horizontal':\r\n                return 'col-resize';\r\n            \r\n            case 'vertical':\r\n                return 'row-resize';\r\n            \r\n            case 'disabled':\r\n                return 'default';\r\n        }\r\n    }\r\n    \r\n    private getImage(state: 'disabled' | 'vertical' | 'horizontal'): string {\r\n        switch(state) {\r\n            case 'horizontal':\r\n                return (this.imageH !== '') ? this.imageH : defaultImageH; \r\n\r\n            case 'vertical':\r\n                return (this.imageV !== '') ? this.imageV : defaultImageV;\r\n            \r\n            case 'disabled':\r\n                return '';\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst defaultImageH = 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==\")';\r\nconst defaultImageV = 'url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFCAMAAABl/6zIAAAABlBMVEUAAADMzMzIT8AyAAAAAXRSTlMAQObYZgAAABRJREFUeAFjYGRkwIMJSeMHlBkOABP7AEGzSuPKAAAAAElFTkSuQmCC\")';\r\n"]}